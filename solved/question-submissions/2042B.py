'''
                                             +*****+
                                         ***+       +*+
                                      ***              +*+    +**=  +*+            =+++++=
                                   +**+                   +**+         **     =+++         =++=
                      *#*        ***           ***           +*++        **+                   +=
                     ####      **+            +###                           =*+                =+
                     #############################                               *+              ==
                      ****************************                                 +*+            +
                   =++############***############# ##+++++++++++++=                     ++       +
                +*++ #########*##****###*#########+###*#* **             =+++++++=          =+= =
              +*+    ########*#*        *#*#######+###*#**** ** +*= ++                  =======
             +*       *******##          #********+###*#**** **-+*+++++++++====- ==  -::--::--::
             +*       *#######*          ########=+##**#**** **=+*==++==+--+: ======-
             +*=      *########       =+=########=+##+*#++** ** ++= ++====-
               +*+++  *#######*+**+++====######## +###*#**** **====
                      *#######*=++===    ######## +###*#**++==
                      *########          ######## +##*+++=
                     =+########          ######## +++==
                    =++********          ********====
                    =+==                       ==+=
                      -==+===                 ==+=
                            ===+++=====       ===
                                    -====+=+++'''
import sys
from math import ceil

#input = sys.stdin.readline #input

def solve():
    n = int(input())
    arr = input().split()
    marbles = {}
    values = [0,0,0] # 1, 2, over 2

    for marble in arr:
        if marble in marbles:
            marbles[marble]+=1
        else:
            marbles[marble]=1

    for key in marbles:
        if marbles[key]>2:
            values[2]+=1
        elif marbles[key]==2:
            values[1]+=1
        else:
            values[0]+=1

    ans = 2*ceil(values[0]/2) + values[1] + values[2]
    print(ans)

for _ in range(int(input())):
    solve()